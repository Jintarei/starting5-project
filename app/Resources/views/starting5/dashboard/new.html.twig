{% extends 'base.html.twig' %}

{% block body %}
    <section class="create-team"  ng-controller="Five">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-8 col-md-8">

                    <p>My Team Comp</p>

                    <!-- center -->
                    <div class="">
                        <div class="input-player" ng-class="{'alert-success': center.fullName, 'disabled': (selectedPoste != 'C' && selectedPoste != 'F-C' && selectedPoste != 'C-F' && selectedPoste != '')}" data-drop="{[{ (selectedPoste == 'C' || selectedPoste == 'F-C' || selectedPoste == 'C-F') ? true : false }]}"
                             ng-model="center" jqyoui-droppable="{onDrop: 'dropCallback'}">
                            <p>Center</p>
                            <div class="btn btn-light" data-drag="false" jqyoui-draggable="{animate:true}" ng-model="center" ng-show="center.fullName">{[{center.fullName}]}</div>
                        </div>
                        <button ng-if="center.fullName" class="btn btn-light" ng-click="clearcenter()"><i class="fa fa-trash" aria-hidden="true"></i></button>
                    </div>

                    <!-- smallForward -->
                    <div class="">
                        <div class="input-player" ng-class="{'alert-success': smallForward.fullName,  'disabled': (selectedPoste != 'F' && selectedPoste != 'G-F' && selectedPoste != 'F-G' && selectedPoste != 'F-C' && selectedPoste != 'C-F' && selectedPoste != '')}" data-drop="{[{ (selectedPoste == 'F' || selectedPoste == 'G-F' || selectedPoste == 'F-G' || selectedPoste == 'F-C' || selectedPoste == 'C-F') ? true : false }]}"
                             data-jqyoui-options ng-model="smallForward" jqyoui-droppable="{onDrop: 'dropCallback'}">
                            <p>Small Forward</p>
                            <div class="btn btn-light" data-drag="false" data-jqyoui-options ng-model="smallForward" ng-show="smallForward.fullName">{[{smallForward.fullName}]}</div>
                        </div>
                        <button ng-if="smallForward.fullName" class="btn btn-light" ng-click="clearsmallForward()"><i class="fa fa-trash" aria-hidden="true"></i></button>
                    </div>

                    <!-- powerForward -->
                    <div class="">
                        <div class="input-player" ng-class="{'alert-success': powerForward.fullName,  'disabled': (selectedPoste != 'F' && selectedPoste != 'G-F' && selectedPoste != 'F-G' && selectedPoste != 'F-C' && selectedPoste != 'C-F' && selectedPoste != '')}" data-drop="{[{ (selectedPoste == 'F' || selectedPoste == 'G-F' || selectedPoste == 'F-G' || selectedPoste == 'F-C' || selectedPoste == 'C-F') ? true : false }]}"
                             data-jqyoui-options ng-model="powerForward" jqyoui-droppable="{onDrop: 'dropCallback'}">
                            <p>Power Forward</p>
                            <div class="btn btn-light" data-drag="false" data-jqyoui-options ng-model="powerForward" ng-show="powerForward.fullName">{[{powerForward.fullName}]}</div>
                        </div>
                        <button ng-if="powerForward.fullName" class="btn btn-light" ng-click="clearpowerForward()"><i class="fa fa-trash" aria-hidden="true"></i></button>
                    </div>

                    <!-- shootingGuard -->
                    <div class="">
                        <div class="input-player" ng-class="{'alert-success': shootingGuard.fullName, 'disabled': (selectedPoste != 'G' && selectedPoste != 'F-G' && selectedPoste != 'G-F' && selectedPoste != '') }" data-drop="{[{ (selectedPoste == 'G' || selectedPoste == 'F-G' || selectedPoste == 'G-F') ? true : false }]}"
                             data-jqyoui-options ng-model="shootingGuard" jqyoui-droppable="{onDrop: 'dropCallback'}">
                            <p>Shooting Guard</p>
                            <div class="btn btn-light" data-drag="false" data-jqyoui-options ng-model="shootingGuard" ng-show="shootingGuard.fullName">{[{shootingGuard.fullName}]}</div>
                        </div>
                        <button ng-if="shootingGuard.fullName" class="btn btn-light" ng-click="clearshootingGuard()"><i class="fa fa-trash" aria-hidden="true"></i></button>
                    </div>

                    <!-- pointGuard -->
                    <div class="">
                        <div class="input-player" ng-class="{'alert-success': pointGuard.fullName, 'disabled': (selectedPoste != 'G' && selectedPoste != 'F-G' && selectedPoste != 'G-F' && selectedPoste != '')}" data-drop="{[{ (selectedPoste == 'G' || selectedPoste == 'F-G' || selectedPoste == 'G-F') ? true : false }]}"
                             data-jqyoui-options ng-model="pointGuard" jqyoui-droppable="{onDrop: 'dropCallback'}">
                            <p>Point Guard</p>
                            <div class="btn btn-light" data-drag="false" data-jqyoui-options ng-model="pointGuard" ng-show="pointGuard.fullName">{[{pointGuard.fullName}]}</div>
                        </div>
                        <button ng-if="pointGuard.fullName" class="btn btn-light" ng-click="clearpointGuard()"><i class="fa fa-trash" aria-hidden="true"></i></button>
                    </div>


                </div>

                <div class="col-lg-4 col-md-4" ng-if="!loadingPlayers">
                    <div class="row list-player">
                        <div class="" ng-repeat="player in players track by $index" data-drop="true" ng-model="players" jqyoui-droppable="{index: {[{$index}]} }">
                            <div class="btn btn-light" data-drag="true" data-jqyoui-options="{revert: 'invalid'}" ng-model="players" jqyoui-draggable="{index: {[{$index}]},placeholder:true,animate: false, onDrag: 'dragCallback(player)', onStop : 'dragStopCallback()'}" ng-hide="!player.fullName">
                                <p>{[{player.fullName}]} - {[{player.position}]}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <button class="btn btn-primary" ng-click="sendTeam()">Envoyer</button>
                </div>

                <div ng-if="loadingPlayers">
                    Chargement ...
                </div>
            </div>
        </div>
    </section>
    <script src="{{ asset('assets/vendor/jquery-ui/jquery-ui.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/angular-dragdrop/src/angular-dragdrop.js') }}" type="text/javascript"></script>
    <script>
        var currentPagePg = 0;
        var currentPagePf = 0;
        var currentPageSf = 0;
        var currentPageSg = 0;
        var currentPageC = 0;
    </script>
{% endblock %}